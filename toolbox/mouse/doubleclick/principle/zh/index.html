<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>双击测试工具 - 工作原理详解</title>
  
    <link rel="stylesheet" href="/toolbox/shared/css/image-modal.css">
    <link rel="stylesheet" href="/toolbox/shared/css/article.css">
  
</head>
<body>

<nav>
    <h2>目录</h2>
    <a href="#prep">1. 鼠标向电脑发送了哪些信号</a>
    <a href="#t1">2. 什么是双击</a>
    <a href="#t2">3. 什么是故障双击</a>
    <a href="#t3">4. 故障双击是如何发生的</a>
    <a href="#t4">5. 本工具为什么可以检测到故障双击</a>
</nav>

<main>
    <h1>双击测试工具 - 工作原理详解</h1>
    <p>本文详细介绍鼠标双击以及本工具检测故障双击的机制。</p>

    <section id="prep" class="section">
        <h2>1. 鼠标向电脑发送了哪些信号</h2>
        <p>鼠标只会向电脑发送三种信号</p>
        <ul>
            <li><strong>按键状态</strong>：按键是被按下状态还是松开状态</li>
            <li><strong>位移变化量</strong>：鼠标上下左右的位移变化量</li>
            <li><strong>滚轮滚动方向</strong>：滚轮向上还是向下滚动</li>
        </ul>
        <p>对的您没有看错，鼠标<strong>不会</strong>向电脑发送<strong>双击的信号</strong>，那问题来了，电脑是怎么知道什么时候双击了的，那就请看下面的文章<a href="#t1">什么是双击。</a></p>

    </section>

    <section id="t1" class="section">
        <h2>2. 什么是双击</h2>
        <p><strong>双击</strong>是指鼠标任意按键在一个时间阈值（通常是500ms）内被按下了两次，这样一个信号会被操作系统识别为双击，如下图所示</p>
        
        <div class="tip-box">
        <h3>提示：</h3>
           两次按下的时间间隔只要小于500ms，就算作双击, 也就是说50ms，甚至20ms都是算的，但是人类怎么可能有这个速度呢，两次按下同一个按键间隔仅仅是50ms, 人类做不到的，但是操作系统不关心人类是否能做的到，它只关心时间间隔是否小于500ms，这也就解释了为什么有些鼠标会出现<a href="#t2">故障双击的问题。</a>
        </div>
        <div class="tip-box">
        <h3>提示：</h3>
           左键双击Windows、macOS 等主流操作系统的默认交互逻辑，特殊软件：在某些 CAD 绘图软件、3D 建模工具（如 Blender 的某些插件）或地理信息系统（GIS）中，右击双击被定义为“取消当前命令”或“回到上一级菜单”。在这些软件中，右键双击可以快速撤销当前操作或返回上一级视图，提升工作效率。
        </div>
       <!-- 图片放大模态框 -->
            <div class="image-modal" id="imageModal" role="dialog" aria-modal="true" aria-label="图片放大视图" hidden>
                <div class="modal-content" id="modalContent">
                    <button class="modal-close" id="modalClose" aria-label="关闭图片视图">&times;</button>
                    <img id="modalImage" src="" alt="" itemprop="image">
                    <button class="modal-zoom" id="modalZoom" aria-label="放大/缩小图片">
                        <i class="fas fa-search-plus" aria-hidden="true"></i>
                    </button>
                    <div class="modal-caption" id="modalCaption"></div>
                </div>
            </div>
           <!-- 优化后的图片显示 -->
                <figure class="principle-image" itemscope itemtype="https://schema.org/ImageObject" data-image="https://assets.starryring.com/mouse/theprincipleofmousezh.png">
                    <img src="https://assets.starryring.com/mouse/doubleclickschematic.png" 
                         alt="鼠标双击时间轴示意图"
                         loading="lazy"
                         itemprop="contentUrl">
                    <figcaption class="image-caption" itemprop="caption">
                        鼠标按键状态时序图 - 展示鼠标按键状态随时间变化的情况
                    </figcaption>
                    <div class="image-hint" aria-hidden="true">双击图片可放大查看</div>
                </figure>   
    </section>

    <section id="t2" class="section">
        <h2>3. 什么是故障双击</h2>
        <p><strong>故障双击（又称连击、抖动双击）</strong>是指用户只点击了一次，但由于鼠标硬件问题，系统却收到了多次点击信号的现象。</p>
        <p>故障双击通常表现为：</p>
        <ul>
            <li>点击一次，文件被打开又迅速关闭（选中取消）</li>
            <li>拖拽时突然中断</li>
            <li>在文本中点击一次却选中了两个词</li>
        </ul>
        <div class="media-box">【此处可嵌入故障双击现象演示动画】</div>
    </section>

    <section id="t3" class="section">
        <h2>4. 故障双击是如何发生的</h2>
        <p>故障双击的根本原因在于<strong>微动开关内部触点的异常通断</strong>，常见原因包括：</p>
        <ul>
            <li><strong>微动老化：</strong>长期使用后金属弹片疲劳，回弹不畅。</li>
            <li><strong>触点氧化：</strong>空气中硫化物等导致触点表面氧化，接触电阻增大。</li>
            <li><strong>灰尘或异物：</strong>进入微动内部导致接触不稳定。</li>
            <li><strong>机械磨损：</strong>触点表面磨损，造成接触不良。</li>
        </ul>
        <p>这些物理变化会导致一次按压过程中，电路出现多次短暂通断，从而被系统误判为多次点击。</p>
        <div class="media-box">【此处可嵌入微动开关内部结构及故障原理示意图】</div>
    </section>

    <section id="t4" class="section">
        <h2>5. 本工具为什么可以检测到故障双击</h2>
        <p>本工具通过高精度计时与事件监听，结合智能算法，准确识别出非人为的异常点击信号。</p>
        
        <h3>检测原理：</h3>
        <ul>
            <li><strong>事件监听：</strong>实时捕获鼠标的 <code>mousedown</code> 和 <code>mouseup</code> 事件。</li>
            <li><strong>时间戳记录：</strong>为每次事件记录精确到毫秒的时间戳。</li>
            <li><strong>间隔分析：</strong>计算连续两次 <code>mousedown</code> 之间的时间间隔。</li>
        </ul>

        <h3>判定逻辑：</h3>
        <p>若两次 <code>mousedown</code> 之间的间隔 <strong>小于 80ms</strong>，则判定为故障双击。因为人类正常双击的间隔通常大于 100ms，短于 80ms 的连续点击极大概率是硬件抖动所致。</p>

        <div class="logic-box">
            <strong>判定公式：</strong><br>
            if (timeBetweenPresses < 80ms) → 判定为故障双击
        </div>

        <div class="log-demo">
            <strong>故障双击日志示例：</strong><br>
            [10:00:01] Left Button Down<br>
            [10:00:01] Left Button Up (Interval: 45ms) → <span style="color: #fb7185;">DETECTED CHATTERING</span>
        </div>

        <p>工具还会统计故障双击次数、频率，并绘制时间分布图，帮助用户判断鼠标健康状况。</p>
    </section>
</main>

<script src="/toolbox/shared/js/image-modal.js"></script>
<script src="/toolbox/shared/js/article.js"></script>

</body>
</html>